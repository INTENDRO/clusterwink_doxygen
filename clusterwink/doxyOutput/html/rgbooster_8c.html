<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Clusterwink: C:/Users/mnose/Documents/github/clusterwink_doxygen/clusterwink/clusterwink_hwref0_v4/rgbooster.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="clstrwnk_logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Clusterwink
   &#160;<span id="projectnumber">hw: rev0 | sw: ref4</span>
   </div>
   <div id="projectbrief">wake-up light</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e93fd0cedf0564f2ec712f25da7eba51.html">clusterwink_hwref0_v4</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rgbooster.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Software layer to interface the RGBooster hardware.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rgbooster_8h_source.html">rgbooster.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rgbooster.c:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c__incl.png" border="0" usemap="#_c_1_2_users_2mnose_2_documents_2github_2clusterwink__doxygen_2clusterwink_2clusterwink__hwref0__v4_2rgbooster_8c" alt=""/></div>
<map name="_c_1_2_users_2mnose_2_documents_2github_2clusterwink__doxygen_2clusterwink_2clusterwink__hwref0__v4_2rgbooster_8c" id="_c_1_2_users_2mnose_2_documents_2github_2clusterwink__doxygen_2clusterwink_2clusterwink__hwref0__v4_2rgbooster_8c">
<area shape="rect" id="node4" href="utils_8h.html" title="Standard utilities for uC internals (timer,adc,gpio,...) " alt="" coords="216,124,273,151"/>
<area shape="rect" id="node5" href="rgbooster_8h.html" title="Software layer to interface the RGBooster hardware. " alt="" coords="297,124,384,151"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a461a2a059af53d4fcdaafeaa453a4017"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbooster_8c.html#a461a2a059af53d4fcdaafeaa453a4017">INT1_Init</a> (void)</td></tr>
<tr class="memdesc:a461a2a059af53d4fcdaafeaa453a4017"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the external interrupt pin INT1 on falling edges.  <a href="#a461a2a059af53d4fcdaafeaa453a4017">More...</a><br /></td></tr>
<tr class="separator:a461a2a059af53d4fcdaafeaa453a4017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf099652a3bc254ab5a77c8df9e1eae0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbooster_8c.html#acf099652a3bc254ab5a77c8df9e1eae0">initRGBooster</a> (void)</td></tr>
<tr class="memdesc:acf099652a3bc254ab5a77c8df9e1eae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RGBooster data and control pins.  <a href="#acf099652a3bc254ab5a77c8df9e1eae0">More...</a><br /></td></tr>
<tr class="separator:acf099652a3bc254ab5a77c8df9e1eae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfe625207d08e6617ebabb89d3521c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbooster_8c.html#aebfe625207d08e6617ebabb89d3521c7">SendBit</a> (unsigned char ucRed, unsigned char ucGreen, unsigned char ucBlue)</td></tr>
<tr class="memdesc:aebfe625207d08e6617ebabb89d3521c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send RGB data to one LED (polling the !done/busy pin)  <a href="#aebfe625207d08e6617ebabb89d3521c7">More...</a><br /></td></tr>
<tr class="separator:aebfe625207d08e6617ebabb89d3521c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3253bf5a08bd8baa9b2d3040f9b96d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbooster_8c.html#a4a3253bf5a08bd8baa9b2d3040f9b96d">SendStrip</a> (unsigned char *ucRed_ptr, unsigned char *ucGreen_ptr, unsigned char *ucBlue_ptr, unsigned char ucLength)</td></tr>
<tr class="memdesc:a4a3253bf5a08bd8baa9b2d3040f9b96d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send RGB data to multiple LEDs (polling the !done/busy pin)  <a href="#a4a3253bf5a08bd8baa9b2d3040f9b96d">More...</a><br /></td></tr>
<tr class="separator:a4a3253bf5a08bd8baa9b2d3040f9b96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d07e9ea2b67f8e8455e77503a3ece3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbooster_8c.html#a9d07e9ea2b67f8e8455e77503a3ece3e">SendStrip_Off</a> (unsigned char ucLength)</td></tr>
<tr class="memdesc:a9d07e9ea2b67f8e8455e77503a3ece3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn off multiple LEDs (polling the !done/busy pin)  <a href="#a9d07e9ea2b67f8e8455e77503a3ece3e">More...</a><br /></td></tr>
<tr class="separator:a9d07e9ea2b67f8e8455e77503a3ece3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Software layer to interface the RGBooster hardware. </p>
<hr/>
<p>The RGBooster generates the asynchronous protocol needed for WS2812. This relieves the microcontroller (uC) from this time consuming task and enables it to do more important functions at the same time. The uC only needs to output the next byte to the 8 data lines and generate a rising edge on the send pin. The RGBooster saves the data and generates the full protocol by hardware. Upon completion, the RGBooster returns a handshake with a falling edge on the !done/busy pin. Using an external interrupt pin for this !done/busy greatly increases the speed and "multitasking" capability of the system.</p>
<p>This file also includes the functions to send data to the RGBooster without the interrupt functionality.</p>
<dl class="section author"><dt>Author</dt><dd>lopeslen, nosedmar </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14.11.2017 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="acf099652a3bc254ab5a77c8df9e1eae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf099652a3bc254ab5a77c8df9e1eae0">&#9670;&nbsp;</a></span>initRGBooster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initRGBooster </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the RGBooster data and control pins. </p>
<hr/>
<p> Pins required:</p><ul>
<li>8 data pins</li>
<li>1 send pin</li>
<li>1 !done/busy pin</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[void]</td><td>no input </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c_acf099652a3bc254ab5a77c8df9e1eae0_icgraph.png" border="0" usemap="#rgbooster_8c_acf099652a3bc254ab5a77c8df9e1eae0_icgraph" alt=""/></div>
<map name="rgbooster_8c_acf099652a3bc254ab5a77c8df9e1eae0_icgraph" id="rgbooster_8c_acf099652a3bc254ab5a77c8df9e1eae0_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Main function &#45; Entry point. " alt="" coords="156,5,207,32"/>
</map>
</div>

</div>
</div>
<a id="a461a2a059af53d4fcdaafeaa453a4017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a461a2a059af53d4fcdaafeaa453a4017">&#9670;&nbsp;</a></span>INT1_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INT1_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the external interrupt pin INT1 on falling edges. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[void]</td><td>no input </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c_a461a2a059af53d4fcdaafeaa453a4017_icgraph.png" border="0" usemap="#rgbooster_8c_a461a2a059af53d4fcdaafeaa453a4017_icgraph" alt=""/></div>
<map name="rgbooster_8c_a461a2a059af53d4fcdaafeaa453a4017_icgraph" id="rgbooster_8c_a461a2a059af53d4fcdaafeaa453a4017_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Main function &#45; Entry point. " alt="" coords="125,5,176,32"/>
</map>
</div>

</div>
</div>
<a id="aebfe625207d08e6617ebabb89d3521c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebfe625207d08e6617ebabb89d3521c7">&#9670;&nbsp;</a></span>SendBit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendBit </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucRed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucGreen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucBlue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send RGB data to one LED (polling the !done/busy pin) </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucRed</td><td>red data byte [0-255] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ucGreen</td><td>green data byte [0-255] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ucBlue</td><td>blue data byte [0-255] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c_aebfe625207d08e6617ebabb89d3521c7_icgraph.png" border="0" usemap="#rgbooster_8c_aebfe625207d08e6617ebabb89d3521c7_icgraph" alt=""/></div>
<map name="rgbooster_8c_aebfe625207d08e6617ebabb89d3521c7_icgraph" id="rgbooster_8c_aebfe625207d08e6617ebabb89d3521c7_icgraph">
<area shape="rect" id="node2" href="rgbooster_8h.html#a4a3253bf5a08bd8baa9b2d3040f9b96d" title="Send RGB data to multiple LEDs (polling the !done/busy pin) " alt="" coords="133,5,212,32"/>
<area shape="rect" id="node3" href="rgbooster_8h.html#a9d07e9ea2b67f8e8455e77503a3ece3e" title="Turn off multiple LEDs (polling the !done/busy pin) " alt="" coords="121,56,224,83"/>
<area shape="rect" id="node4" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Main function &#45; Entry point. " alt="" coords="272,56,323,83"/>
</map>
</div>

</div>
</div>
<a id="a4a3253bf5a08bd8baa9b2d3040f9b96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3253bf5a08bd8baa9b2d3040f9b96d">&#9670;&nbsp;</a></span>SendStrip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendStrip </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>ucRed_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>ucGreen_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>ucBlue_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send RGB data to multiple LEDs (polling the !done/busy pin) </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucRed_ptr</td><td>pointer to red char array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ucGreen_ptr</td><td>pointer to green char array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ucBlue_ptr</td><td>pointer to blue char array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ucLength</td><td>length of the char arrays (all need to be the same length) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c_a4a3253bf5a08bd8baa9b2d3040f9b96d_cgraph.png" border="0" usemap="#rgbooster_8c_a4a3253bf5a08bd8baa9b2d3040f9b96d_cgraph" alt=""/></div>
<map name="rgbooster_8c_a4a3253bf5a08bd8baa9b2d3040f9b96d_cgraph" id="rgbooster_8c_a4a3253bf5a08bd8baa9b2d3040f9b96d_cgraph">
<area shape="rect" id="node2" href="rgbooster_8c.html#aebfe625207d08e6617ebabb89d3521c7" title="Send RGB data to one LED (polling the !done/busy pin) " alt="" coords="132,5,200,32"/>
</map>
</div>

</div>
</div>
<a id="a9d07e9ea2b67f8e8455e77503a3ece3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d07e9ea2b67f8e8455e77503a3ece3e">&#9670;&nbsp;</a></span>SendStrip_Off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendStrip_Off </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ucLength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn off multiple LEDs (polling the !done/busy pin) </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ucLength</td><td>length of the strip to turn off </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return value </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_cgraph.png" border="0" usemap="#rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_cgraph" alt=""/></div>
<map name="rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_cgraph" id="rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_cgraph">
<area shape="rect" id="node2" href="rgbooster_8c.html#aebfe625207d08e6617ebabb89d3521c7" title="Send RGB data to one LED (polling the !done/busy pin) " alt="" coords="156,5,224,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_icgraph.png" border="0" usemap="#rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_icgraph" alt=""/></div>
<map name="rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_icgraph" id="rgbooster_8c_a9d07e9ea2b67f8e8455e77503a3ece3e_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Main function &#45; Entry point. " alt="" coords="156,5,207,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
